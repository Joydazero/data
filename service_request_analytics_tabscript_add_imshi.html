<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>민원 분석 대시보드</title>
    <!-- css -->
    <link rel="stylesheet" href="/asset/css/reset.css">
    <link rel="stylesheet" href="/asset/css/bootstrap.css">
    <link rel="stylesheet" href="/asset/css/components.css">
    <link rel="stylesheet" href="/asset/css/core.css">
    <link rel="stylesheet" href="/asset/css/common.css">
    <link rel="stylesheet" href="/asset/css/service_request_analytics.css">
    <!-- js -->
    <script src="/asset/js/jquery-1.9.1.min.js"></script>
    <script src="/asset/js/modernizr.min.js"></script>
    <script src="/asset/js/bootstrap.min.js"></script>
    <script src="/asset/js/jquery.app.js"></script>
    <script src="/asset/js/jquery.cookie.js"></script>
    <script src="/asset/js/jquery.core.js"></script>
    <script src="/asset/js/jquery.ui.js"></script>       
    <script src="/asset/js/echarts.js"></script>   
    <script src="/asset/js/echarts-wordcloud.min.js"></script>   
    <!-- <script src="/asset/js/echarts.min.js"></script>    -->
</head>
<body >
    <div class="all-wrapper" id="service_request_analytics">
        <div class="wrapper">            
            <nav id="menu-bar" class="open">
                <div class="menu-bar-inner">
                    <h2 class="in-title"><p>민원 분석 대시보드</p></h2>
                    <div class="menu-item menu-route">
                        <h3 class="in-item-title"><p>민원 분류</p></h3>
                        <div class="in-item-content">
                            <ul class="route-choice">
                                <li><button type="button">콜 센터</button></li>
                                <li><button type="button">전자·서면</button></li>
                            </ul>
                        </div>
                    </div>
                    <!-- menu-item -->
                     <div class="menu-item menu-classification">
                        <h3 class="in-item-title"><p>민원 분류</p></h3>
                        <div class="in-item-content">
                            <div class="item-classification">
                            <ul class="classification-list">
                                <li>
                                <select name="" id="">
                                    <option value="">대분류</option>
                                    <option value="">대분류</option>
                                    <option value="">대분류</option>
                                    <option value="">대분류</option>
                                    <option value="">대분류</option>
                                </select>
                                </li>
                                <li>
                                <select name="" id="">
                                    <option value="">중분류</option>
                                    <option value="">중분류</option>
                                    <option value="">중분류</option>
                                    <option value="">중분류</option>
                                    <option value="">중분류</option>
                                </select>
                                </li>
                                <li>
                                <select name="" id="">
                                    <option value="">소분류</option>
                                    <option value="">소분류</option>
                                    <option value="">소분류</option>
                                    <option value="">소분류</option>
                                    <option value="">소분류</option>
                                    <option value="">소분류</option>
                                </select>
                                </li>
                            </ul>
                            <div class="classification-detail">
                                <ul class="detail-info-list">
                                    <li><button type="button">영업</button></li>
                                    <li><button type="button">교통</button></li>
                                    <li><button type="button">유지보수</button></li>
                                    <li><button type="button">손해배상</button></li>
                                    <li><button type="button">용지</button></li>
                                    <li><button type="button">공사</button></li>
                                    <li><button type="button">기타</button></li>
                                </ul>
                                <div class="detail-info-control">
                                    <button type="button" id="classification-all-btn">전체선택</button>
                                    <button type="button" id="nav-ok-btn">확인</button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                    <!-- menu-item -->
                     <div class="menu-item">
                        <h3 class="in-item-title"><p>기간 필터</p></h3>
                        <div class="in-item-content">
                            
                        </div>
                    </div>
                    <!-- menu-item -->
                     <div class="menu-item">
                        <h3 class="in-item-title item-keyword"><p>포함 키워드</p></h3>
                        <div class="in-item-content item-keyword">
                            <div class="item-keyword-box including">
                                1111
                            </div>
                        </div>
                    </div>
                    <!-- menu-item -->
                     <div class="menu-item">
                        <h3 class="in-item-title item-keyword"><p>제외 키워드</p></h3>
                        <div class="in-item-content item-keyword">
                            <div class="item-keyword-box exception">
                                1111
                            </div>
                        </div>
                    </div>
                    <!-- menu-item -->
                     <div class="menu-button-wrap">
                       <button type="button" class="menu-filter-btn">필터링</button>
                     </div>
                </div>
                <button id="nav-bar-control-btn" type="button">메뉴바 버튼</button>
            </nav>
            <div class="container">
                <div class="contents">
                     <!-- tab Start-->
                    <div class="tabs">
                        <div class="tab-menu">
                            <button class="tab-button active" data-tab="tab1">Tab 1</button>
                            <button class="tab-button" data-tab="tab2">Tab 2</button>
                            <button class="tab-button" data-tab="tab3">Tab 3</button>
                        </div>
                        <div class="tab-content-wrapper">
                            <div class="tab-content" id="tab1">Content for Tab 1
                                <div id="sra_monthly_development" class="data_visualization_con">
                                    <p class="data_visualization_tit">월간 추이</p>
                                    <div id="sra_monthly_development_grp"></div>
                                </div>
                                <div id="sra_classification_route_data" class="data_visualization_table_con">
                                    <table>
                                        <caption>민원 분류 데이터 테이블</caption>
                                        <colgroup>
                                            <col class="col-tit">
                                            <col class="col-con">
                                            <col class="col-con">
                                            <col class="col-con">
                                            <col class="col-con">
                                            <col class="col-con">
                                            <col class="col-con">
                                            <col class="col-con">
                                            <col class="col-con">
                                        </colgroup>
                                        <thead>
                                            <tr>
                                                <th>구분</th>
                                                <th>합계</th>
                                                <th>영업</th>
                                                <th>교통</th>
                                                <th>유지보수</th>
                                                <th>손해배상</th>
                                                <th>용지</th>
                                                <th>공사</th>
                                                <th>기타</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <th scope="row" class="data-sum">합계</th>
                                                <td class="data-sum">54,187</td>
                                                <td class="data-sum">25,222</td>
                                                <td class="data-sum">22,552</td>
                                                <td class="data-sum">5,274</td>
                                                <td class="data-sum">312</td>
                                                <td class="data-sum">603</td>
                                                <td class="data-sum">128</td>
                                                <td class="data-sum">96</td>
                                            </tr>
                                            <tr>
                                                <th scope="row" class="data-nom">콜센터</th>
                                                <td>42,293</td>
                                                <td>15,000</td>
                                                <td>21,321</td>
                                                <td>5,163</td>
                                                <td>213</td>
                                                <td>515</td>
                                                <td>51</td>
                                                <td>30</td>
                                            </tr>
                                            <tr>
                                                <th scope="row" class="data-nom">전자민원</th>
                                                <td>11,894</td>
                                                <td>10,222</td>
                                                <td>1,231</td>
                                                <td>111</td>
                                                <td>99</td>
                                                <td>88</td>
                                                <td>77</td>
                                                <td>66</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div id="sra_data_distribution" class="data_visualization_con">
                                <p class="data_visualization_tit grp-circle">분포</p>
                                <div id="sra_data_grp_distribution"></div>
                                </div>
                            </div>
                            <div class="tab-content" id="tab2">Content for Tab 2
                                 <!-- 시계열 분석 -->
                                <div id="time_series_analysis_grp_01"></div>
                                <div id="time_series_analysis_grp_02"></div>
                            </div>
                            <div class="tab-content" id="tab3">Content for Tab 3
                                 <div id="wordCloud"></div>
                            </div>
                        </div>
                    </div>
                    <!-- tab End-->
                </div>
            </div>
        </div>
        
<style>
.tabs {
  font-family: Arial, sans-serif;
}

.tab-menu {
  display: flex;
  margin-bottom: 10px;
}

.tab-button {
  padding: 10px 20px;
  border: none;
  background-color: #f1f1f1;
  cursor: pointer;
  margin-right: 5px;
}

.tab-button.active {
  background-color: #007bff;
  color: white;
}

.tab-content-wrapper {
  position: relative;
}

.tab-content {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
  opacity: 0;
  visibility: hidden;
}

.tab-content.active {
  opacity: 1;
  visibility: visible;
  position: relative;
}


</style>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const updateBodyHeight = () => {
    // 페이지의 전체 콘텐츠 높이를 가져옵니다.
    const contentHeight = document.documentElement.scrollHeight;
    
    // 뷰포트 크기를 고려하여 body의 높이를 설정합니다.
    // 예를 들어, 화면 크기와 콘텐츠 크기 모두를 반영
    const windowHeight = window.innerHeight;

    // 콘텐츠 높이가 뷰포트보다 크면 콘텐츠 높이에 맞추고, 그렇지 않으면 뷰포트 높이에 맞춤
    if (contentHeight > windowHeight) {
      document.body.style.height = contentHeight + 'px';
    } else {
      document.body.style.height = '100vh'; // 최소 뷰포트 높이
    }
  };

  // 초기 로드 시 body 높이 업데이트
  updateBodyHeight();

  // 창 크기 변경 시 body 높이 업데이트
  window.addEventListener('resize', () => {
    updateBodyHeight();
  });
});

document.addEventListener('DOMContentLoaded', () => {
  const tabButtons = document.querySelectorAll('.tab-button');
  const tabContents = document.querySelectorAll('.tab-content');

  // 기본 탭 (tab1) 설정
  const defaultTab = 'tab1';
  const defaultButton = document.querySelector(`[data-tab="${defaultTab}"]`);
  const defaultContent = document.getElementById(defaultTab);

  // 초기 활성화: 기본 버튼과 콘텐츠를 활성화
  defaultButton.classList.add('active');
  defaultContent.classList.add('active');

  tabButtons.forEach(button => {
    button.addEventListener('click', () => {
      const targetTab = button.dataset.tab;

      // 버튼 active 클래스 토글
      tabButtons.forEach(btn => btn.classList.remove('active'));
      button.classList.add('active');

      // 콘텐츠 표시 토글
      tabContents.forEach(content => {
        if (content.id === targetTab) {
          content.classList.add('active');
        } else {
          content.classList.remove('active');
        }
      });
    });
  });
});



/*
tabContents.forEach(content => {
  if (content.id === targetTab) {
    content.classList.add('active');
    if (content.querySelector('.echart-container')) {
      const chart = echarts.getInstanceByDom(content.querySelector('.echart-container'));
      chart && chart.resize();
    }
  }
});
*/
</script>
    </div>
<script src="/asset/js/service_request_analytics.js"></script>
</body>
</html>